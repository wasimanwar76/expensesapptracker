{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Expenses Tracker App</title>

    <!-- Bootstrap Custom CSS -->
    <link rel="stylesheet" href="{% static 'css/sb-admin-2.min.css' %}" />

    <!-- Custom fonts for this template-->
    <link
      href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
      rel="stylesheet"
    />

    <!-- box icons link -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/boxicons@latest/css/boxicons.min.css"
    />
    <!-- Font Awesome Icons Link -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
      integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <!-- remix icons link  -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css"
    />

    <!-- Chart js Link -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
      /* Custom CSS for chart containers */
      .chart-container {
        position: relative;
        width: 100%;
        padding: 10px;
        background-color: #fff;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        margin-bottom: 20px;
      }

      .chart {
        width: 100%;
        height: auto; /* Ensures the canvas scales with its container */
      }

      /* Custom styles for the hamburger menu */
      #menu-icon {
        font-size: 2rem;
        cursor: pointer;
        color: white;
      }
      #menu-icon.bx-x {
        color: white; /* Ensure the icon remains white when toggled */
      }
      .sidebar {
        transition: all 0.3s;
      }
      .sidebar.collapsed {
        width: 0;
        overflow: hidden;
        display: none;
      }

      a:hover {
        text-decoration: none;
      }
    </style>
  </head>
  <body>
    <!-- Page Wrapper -->
    <div id="wrapper">
      <!-- Sidebar -->
      <ul
        class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion collapsed"
        id="accordionSidebar"
      >
        <!-- Divider -->
        <hr class="sidebar-divider" />
        <!-- Heading -->
        <div class="sidebar-heading">HOME</div>
        <!-- Nav Item - Pages Collapse Menu -->
        <li class="nav-item">
          <a class="nav-link collapsed" href="{% url 'salary-summary' %}">
            <i class="fa-regular fa-file"></i>
            <span>My Income</span>
          </a>
        </li>
        <!-- Nav Item - Utilities Collapse Menu -->
        <li class="nav-item">
          <a class="nav-link collapsed" href="{% url 'expense-summary' %}">
            <i class="fa-solid fa-money-bill"></i>
            <span>My Expenses</span>
          </a>
        </li>
        <!-- Divider -->
        <hr class="sidebar-divider" />

        <!-- Heading -->
        <div class="sidebar-heading">SUMMARY</div>

        <!-- Nav Item - Pages Collapse Menu -->
        <li class="nav-item">
          <a class="nav-link collapsed" href="">
            <i class="fa-solid fa-chart-line"></i>
            <span>Expenses Summary </span>
          </a>
        </li>
      </ul>
      <!-- End of Sidebar -->

      <!-- Content Wrapper -->
      <div id="content-wrapper" class="d-flex flex-column">
        <!-- Main Content -->
        <div id="content">
          <!-- Topbar -->
          <nav
            class="navbar navbar-expand navbar-dark bg-primary topbar mb-4 static-top shadow"
          >
            <div class="bx bx-menu" id="menu-icon"></div>
            <!-- Sidebar - Brand -->
            <a
              class="sidebar-brand d-flex align-items-center justify-content-center"
              href="{% url 'home' %}"
            >
              <h4 class="sidebar-brand-text mx-1 p-3 text-white">
                Expense Tracker
              </h4>
            </a>
            <!-- Topbar Navbar -->
            <ul class="navbar-nav ml-auto">
              <!-- Nav Item - User Information -->
              {% if request.session.email %}
              <li class="mr-3">
                <div class="d-grid gap-2 d-md-block text-white">
                  <span>{{ request.session.email }}</span>
                  <a href="/authentication/logout" class="btn btn-light"
                    >Log Out</a
                  >
                </div>
              </li>
              {% else %}
              <li class="mr-3">
                <div class="d-grid gap-2 d-md-block">
                  <a href="/authentication/signup" class="btn btn-primary"
                    >Signup</a
                  >
                  <a href="/authentication/login" class="btn btn-primary"
                    >Login</a
                  >
                </div>
              </li>
              {% endif %}
            </ul>
          </nav>
          <!-- End of Topbar -->
          {% block content %} {% endblock content %}
          <!-- /.container-fluid -->
        </div>
        <!-- End of Main Content -->
      </div>
    </div>

    <!-- Custom Script for Hamburger Menu -->
    <script>
      const menuIcon = document.querySelector("#menu-icon");
      const sidebar = document.querySelector("#accordionSidebar");

      menuIcon.addEventListener("click", function () {
        sidebar.classList.toggle("collapsed");
        menuIcon.classList.toggle("bx-x");
      });
    </script>

    <!-- Bootstrap JS and dependencies -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  </body>
</html>
